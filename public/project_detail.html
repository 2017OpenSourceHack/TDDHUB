<html>

<head>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
</head>

<body>

  <form id="category_create_form"
  	action="/category/create"
  	method="post">

    <button type="submit">category create</button>
  </form>

  <form id="category_delete_form"
    action="/category/delete"
    method="post">

    <button type="submit">category delete</button>
  </form>

  <form id="testcase_create_form"
    action="/testcase/create"
    method="post">

    <button type="submit">testcase create</button>
  </form>

  <form id="testcase_delete_form"
    action="/testcase/delete"
    method="post">

    <button type="submit">testcase delete</button>
  </form>

  <button onclick="createCategory('A')">category create</button>
  <button onclick="deleteCategory(0)">category delete</button>
  <button onclick="createTestcase(0, 'name')">testcase create</button>
  <button onclick="deleteTestcase(0, 0)">testcase delete</button>
</body>
<script>

var category = new Array();
category.push("category1", "category2", "category3");

var testcase = new Array(category.length);
for (var i = 0; i < testcase.length; i++) {
  testcase[i] = new Array(0);
}
//
// cindex: category index
// tindex: testcase index
function createCategory(name) {
  alert(name);
  category.push(name);
  updateDiv();
};

function deleteCategory(cindex) {
  category.splice(cindex, 1);
  updateDiv();
};

function createTestcase(cindex, name) {
  testcase[cindex].push(name);
  updateDiv();
};

function deleteTestcase(cindex, tindex) {
  testcase[cindex].splice(tindex,1);
  updateDiv();
};

function updateDiv(){
  $("div").remove();
  var iDiv = document.createElement('div');
  iDiv.id = 'category_list';
  document.getElementsByTagName('body')[0].appendChild(iDiv);

  // Now create and append to iDiv
  for (var i in category) {
    var innerDiv = document.createElement('div');
    innerDiv.id = i;
    innerDiv.innerHTML = "<a>" + category[i] + " </a>"
    iDiv.appendChild(innerDiv);
    for (var j in testcase[i]) {
      var innerDiv = document.createElement('div');
      innerDiv.id = j;
      innerDiv.innerHTML = "<a> ã„´ " + testcase[i][j] + " </a>"
      iDiv.appendChild(innerDiv);
    }
  }

}

updateDiv();

</script>
</html>